var oCtrl_ControlSheetDetail;var oFragments={};sap.ui.define(["jquery.sap.global","sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,o,n,l){var r;return t.extend("com.exonmarcelo.geser.webapp.controller.ControlSheetDetail",{_oControlSheetCloned:{},onInit:function(t){oCtrl_ControlSheetDetail=this;console.log("init");r=oCtrl_ControlSheetDetail.getView();r.addEventDelegate({onBeforeShow:e.proxy(function(e){this.onBeforeShow(e)},this)})},onBeforeShow:function(e){oComponent.fnToggleButtonsTP(true);oComponent.fnToggleButtonUser(true);oComponent.fnChangeTitleApp("ToolPage.Header.ToolHeader.Title.7");oCtrl_ControlSheetDetail.fnToggleButtons(true);oCtrl_ControlSheetDetail.fnBindingDataToModel()},onAfterRendering:function(){},fnToggleButtons:function(e){oCtrl_ControlSheetDetail.byId("edit").setVisible(e);oCtrl_ControlSheetDetail.byId("save").setVisible(!e);oCtrl_ControlSheetDetail.byId("delete").setVisible(e);oCtrl_ControlSheetDetail.byId("cancel").setVisible(!e);oCtrl_ControlSheetDetail.byId("idControlSheetFormDisplay").setVisible(e);oCtrl_ControlSheetDetail.byId("idControlSheetFormEdit").setVisible(!e)},onPressEdit:function(t){var o=oCore.getModel("mControlSheetDetail").getData();oCtrl_ControlSheetDetail._oControlSheetCloned=e.extend(true,{},o);oCtrl_ControlSheetDetail.fnToggleButtons(false)},onPressSave:function(e){var t={sIcon:"SUCCESS",sMessage:Utils.fnReadTranslate("CustomerDetail.Message.Edit"),fnButtonOK:function(){oCtrl_ControlSheetDetail.fnToggleButtons(true);console.log("refresh data")}};Utils.fnShowMessage(t)},onPressDelete:function(){var e={sMessage:Utils.fnReadTranslate("Message.Delete.Record"),fnButtonOK:function(){console.log("removed record")},fnButtonNOT:function(){console.log("canceled action")}};Utils.fnShowConfirmationMessage(e)},onPressCancel:function(e){oCore.getModel("mControlSheetDetail").setData(oCtrl_ControlSheetDetail._oControlSheetCloned);oCore.getModel("mControlSheetDetail").refresh();oCtrl_ControlSheetDetail.fnToggleButtons(true)},onAddService:function(e){},fnBindingDataToModel:function(){var e={card_number:"27042019124211",start_date:"27/04/2019",end_date:"27/04/2019",reason:"Cambio de Anillos Preventivo",total_price:"S/. 50.00",SERVICES:[{id:"1",description:"Cambio de Anillos",price:"S/. 50.00"}]};var t=oCore.getModel("mControlSheetDetail");t.setData(e);t.refresh()},onItemPressServices:function(e){var t=e.getParameter("listItem").getBindingContext("mControlSheetDetail").sPath;var o=oCore.getModel("mControlSheetDetail").getProperty(t);var n=oCore.getModel("mServiceDetail");n.setData(o);n.refresh();var l=sap.ui.core.UIComponent.getRouterFor(oCtrl_ControlSheetDetail);l._oConfig.transition="slide";l.navTo("ServiceDetail",{},false)}})});