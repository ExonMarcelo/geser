var oCtrl_CustomerDetail;var oFragments={};sap.ui.define(["jquery.sap.global","sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,o,s,l){var a;return t.extend("com.exonmarcelo.geser.webapp.controller.CustomerDetail",{_oCustomerCloned:{},onInit:function(t){oCtrl_CustomerDetail=this;console.log("init");a=oCtrl_CustomerDetail.getView();a.addEventDelegate({onBeforeShow:e.proxy(function(e){this.onBeforeShow(e)},this)})},onBeforeShow:function(e){oComponent.fnToggleButtonsTP(true);oComponent.fnToggleButtonUser(true);oComponent.fnChangeTitleApp("ToolPage.Header.ToolHeader.Title.4");oCtrl_CustomerDetail.fnToggleButtons(true);oCtrl_CustomerDetail.fnToggleModeVehicles(true);oCtrl_CustomerDetail.fnCreateVBoxWithImage()},onAfterRendering:function(){},fnToggleButtons:function(e){oCtrl_CustomerDetail.byId("edit").setVisible(e);oCtrl_CustomerDetail.byId("save").setVisible(!e);oCtrl_CustomerDetail.byId("delete").setVisible(e);oCtrl_CustomerDetail.byId("cancel").setVisible(!e);oCtrl_CustomerDetail.byId("idCustomerFormDisplay").setVisible(e);oCtrl_CustomerDetail.byId("idCustomerFormEdit").setVisible(!e)},onPressEdit:function(t){var o=oCore.getModel("mCustomerDetail").getData();oCtrl_CustomerDetail._oCustomerCloned=e.extend(true,{},o);oCtrl_CustomerDetail.fnToggleButtons(false)},onPressSave:function(e){var t={sIcon:"SUCCESS",sMessage:Utils.fnReadTranslate("CustomerDetail.Message.Edit"),fnButtonOK:function(){oCtrl_ServCardDetail.fnToggleButtons(true);console.log("refresh data")}};Utils.fnShowMessage(t)},onPressDelete:function(){var e={sMessage:Utils.fnReadTranslate("Message.Delete.Record"),fnButtonOK:function(){console.log("removed record")},fnButtonNOT:function(){console.log("canceled action")}};Utils.fnShowConfirmationMessage(e)},onPressCancel:function(e){oCore.getModel("mCustomerDetail").setData(oCtrl_CustomerDetail._oCustomerCloned);oCore.getModel("mCustomerDetail").refresh();oCtrl_CustomerDetail.fnToggleButtons(true)},onPressAvatar:function(e){var t=e.getSource().getParent().getCustomData()[0].getValue();alert("click on avatar: "+t)},fnCreateVBoxWithImage:function(e){var e=[{image:"https://image.flaticon.com/icons/svg/1168/1168000.svg",plate:"EM-1234"},{image:"https://image.flaticon.com/icons/svg/296/296210.svg",plate:"EM-456"},{image:"https://image.flaticon.com/icons/svg/1205/1205960.svg",plate:"EM-847"},{image:"https://image.flaticon.com/icons/svg/226/226569.svg",plate:"EM-949"}];var t=oCtrl_CustomerDetail.byId("gridImgsVehicles");t.destroyContent();for(var o=0;o<e.length;o++){var s=new sap.m.VBox({alignItems:"Center",items:[new sap.f.Avatar({src:e[o].image,displaySize:"M",press:oCtrl_CustomerDetail.onPressAvatar}),new sap.m.Text({text:e[o].plate})],customData:[new sap.ui.core.CustomData({key:"path",value:"oModel/"+o})]}).addStyleClass("emjMarginBottom10");t.addContent(s)}},onSelectionChangeModeVehicles:function(e){var t=e.getSource().getSelectedKey();if(t=="modeImage"){oCtrl_CustomerDetail.fnToggleModeVehicles(true)}else{oCtrl_CustomerDetail.fnToggleModeVehicles(false)}},fnToggleModeVehicles:function(e){oCtrl_CustomerDetail.byId("gridImgsVehicles").setVisible(e);oCtrl_CustomerDetail.byId("tableVehiclesOnCustDetail").setVisible(!e)},onNewVehicle:function(e){Utils.fnDialogNewVehicle()}})});